from arcgis.features import FeatureLayer
from datetime import datetime

# Replace with the URL of one of the layers from the Web Map
layer_url = "https://services.arcgis.com/.../FeatureServer/0"
layer = FeatureLayer(layer_url)

# Query edits from 2021
where_clause = "last_edited_date >= TIMESTAMP '2021-01-01 00:00:00'"
edits = layer.query(where=where_clause, out_fields="last_edited_user, last_edited_date", return_geometry=False)

# Print editors
users = set()
for feat in edits.features:
    user = feat.attributes['last_edited_user']
    date = feat.attributes['last_edited_date']
    users.add(user)
    print(f"{user} edited on {date}")

print("\nâœ… Users who edited this layer since 2021:")
print(users)
